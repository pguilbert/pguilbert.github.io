---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/favicon.svg" />

    <title>{title}</title>
    <meta
      name="description"
      content="
    I am a software engineer at Back Market. I work in the payment team, creating and improving the payment experience for Back Market's customers. I have a strong background in creating web, mobile, and desktop applications, as well as building web services. In the past, I had the opportunity to be a Microsoft Student Partner, which gave me the chance to engage with students interested in Microsoft technologies and organize related events."
    />
    <meta
      name="keywords"
      content="Paul Guilbert, software engineer, software developer, payment, payments, Back Market, IdÃ©ine, Improveeze, Lille, Arras, web, mobile, desktop, applications, web services, Microsoft, Microsoft Student Partner, MSP, React, Typescript, VueJs, dotnet"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" /><link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin
    /><link
      href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&family=Roboto+Mono&display=swap&text=PaulGibert-SofwngBckM.LdTshNEW203ym:(p/)"
      rel="stylesheet"
    />
    <link href="/main.css" rel="stylesheet" />
  </head>

  <body>
    <slot />

    <button id="light-switch" title="Toggle dark mode">
      <svg
        aria-label="Activate night mode"
        class="night-icon"
        xmlns="http://www.w3.org/2000/svg"
        xml:space="preserve"
        viewBox="0 0 24 24"
        ><path
          d="M12.3 4.9c.4-.2.6-.7.5-1.1s-.6-.8-1.1-.8C6.8 3.1 3 7.1 3 12c0 5 4 9 9 9 3.8 0 7.1-2.4 8.4-5.9.2-.4 0-.9-.4-1.2-.4-.3-.9-.2-1.2.1-1 .9-2.3 1.4-3.7 1.4-3.1 0-5.7-2.5-5.7-5.7 0-1.9 1.1-3.8 2.9-4.8zm2.8 12.5c.5 0 1 0 1.4-.1-1.2 1.1-2.8 1.7-4.5 1.7-3.9 0-7-3.1-7-7 0-2.5 1.4-4.8 3.5-6-.7 1.1-1 2.4-1 3.8-.1 4.2 3.4 7.6 7.6 7.6z"
        ></path></svg
      >
      <svg
        aria-label="Activate light mode"
        class="light-icon"
        xmlns="http://www.w3.org/2000/svg"
        xml:space="preserve"
        viewBox="0 0 24 24"
        ><g
          ><path
            d="M7 12c0 2.8 2.2 5 5 5s5-2.2 5-5-2.2-5-5-5-5 2.2-5 5zm5-3c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3zM13 5V3c0-.6-.4-1-1-1s-1 .4-1 1v2c0 .6.4 1 1 1s1-.4 1-1zM19.1 4.9c-.4-.4-1-.4-1.4 0l-1.4 1.4c-.4.4-.4 1 0 1.4.2.2.5.3.7.3s.5-.1.7-.3l1.4-1.4c.4-.3.4-1 0-1.4zM21 11h-2c-.6 0-1 .4-1 1s.4 1 1 1h2c.6 0 1-.4 1-1s-.4-1-1-1zM17.7 16.2c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l1.4 1.4c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4l-1.4-1.4zM11 19v2c0 .6.4 1 1 1s1-.4 1-1v-2c0-.6-.4-1-1-1s-1 .4-1 1zM4.9 19.1c.2.2.5.3.7.3s.5-.1.7-.3l1.4-1.4c.4-.4.4-1 0-1.4s-1-.4-1.4 0l-1.4 1.4c-.4.3-.4 1 0 1.4zM2 12c0 .6.4 1 1 1h2c.6 0 1-.4 1-1s-.4-1-1-1H3c-.6 0-1 .4-1 1zM6.3 4.9c-.4-.4-1-.4-1.4 0s-.4 1 0 1.4l1.4 1.4c.2.3.5.4.8.4s.5-.1.7-.3c.4-.4.4-1 0-1.4L6.3 4.9z"
          ></path></g
        ></svg
      >
    </button>

    <script>
      import { effect, signal } from "@preact/signals-core";

      type Mode = "dark" | "light";

      const setupLightSwitch = (button: HTMLButtonElement) => {
        const isBrowserPreferDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches;

        const mode = signal<Mode>(
          (localStorage.getItem("mode") as Mode) ?? (isBrowserPreferDarkMode ? "dark" : "light")
        );
        effect(() => {
          document.body.classList.remove("dark-mode", "light-mode");
          document.body.classList.add(`${mode.value}-mode`);
        });

        button.addEventListener("click", () => {
          mode.value = mode.value === "light" ? "dark" : "light";
          localStorage.setItem("mode", mode.value);
        });

        window.addEventListener("storage", () => {
          mode.value = localStorage.getItem("mode") as Mode;
        });
      };

      setupLightSwitch(document.querySelector<HTMLButtonElement>("#light-switch")!);
    </script>
  </body>
</html>
